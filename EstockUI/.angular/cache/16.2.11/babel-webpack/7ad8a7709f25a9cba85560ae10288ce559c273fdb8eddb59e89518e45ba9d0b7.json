{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport { UpdateFormComponent } from '../update-form/update-form.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/auth.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/dialog\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../pipe/FilterPipe\";\nfunction CompanyComponent_tr_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function CompanyComponent_tr_50_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const c_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.updateCompany(c_r2));\n    });\n    i0.ɵɵtext(17, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CompanyComponent_tr_50_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const c_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteCompany(c_r2.companyCode));\n    });\n    i0.ɵɵtext(19, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const c_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.companyCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.companyName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.companyCEO);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.companyTurnover);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.companyWebsite);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.stockExchange);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.latestStockPrice);\n  }\n}\nfunction CompanyComponent_tbody_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const r_r6 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(r_r6.companyCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r6.companyName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r6.companyCEO);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r6.companyTurnover);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r6.companyWebsite);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r6.stockExchange);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r6.stockPrice);\n  }\n}\nexport class CompanyComponent {\n  constructor(authService, http, router, formBuilder, dialog) {\n    this.authService = authService;\n    this.http = http;\n    this.router = router;\n    this.formBuilder = formBuilder;\n    this.dialog = dialog;\n    this.companies = [];\n    this.searchText = '';\n    this.selectedCompany = null;\n    this.isUpdateModalOpen = false;\n  }\n  ngOnInit() {\n    this.companyForm = this.formBuilder.group({\n      companyCode: ['', Validators.required],\n      companyName: ['', Validators.required],\n      companyCEO: ['', Validators.required],\n      companyTurnover: ['', Validators.required],\n      companyWebsite: ['', Validators.required],\n      stockExchange: ['', Validators.required]\n      //stockPrice: ['', Validators.required],\n      //latestStockPrice: ['', Validators.required],\n    });\n\n    this.getAllCompanies();\n    //this.getMov();\n  }\n\n  updateCompany(company) {\n    console.log(\"insde\");\n    const dialogRef = this.dialog.open(UpdateFormComponent, {\n      width: '400px',\n      data: company\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        const updatedCompany = {\n          companyCode: company.companyCode,\n          ...result // Spread the updated data\n        };\n\n        const url = `http://localhost:8081/v1.0/market/company/put/${updatedCompany.companyCode}`;\n        const httpOptions = {\n          headers: new HttpHeaders({\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + sessionStorage.getItem('token')\n          })\n        };\n        this.http.put(url, updatedCompany, httpOptions).subscribe(() => {\n          console.log('Company updated successfully');\n          this.getAllCompanies(); // Refresh the company list\n        }, error => {\n          console.error(error);\n          // Handle error response here\n        });\n      }\n    });\n  }\n\n  submitForm() {\n    if (this.companyForm.invalid) {\n      return;\n    }\n    console.log(\"inside\");\n    const url = 'http://localhost:8081/v1.0/market/company/register';\n    const token = sessionStorage.getItem('token');\n    const body = {\n      companyCode: this.companyForm.value.companyCode,\n      companyName: this.companyForm.value.companyName,\n      companyCEO: this.companyForm.value.companyCEO,\n      companyTurnover: this.companyForm.value.companyTurnover,\n      companyWebsite: this.companyForm.value.companyWebsite,\n      stockExchange: this.companyForm.value.stockExchange\n      //stockPrice: this.companyForm.value.stockPrice,\n      // latestStockPrice: this.companyForm.value.latestStockPrice,\n    };\n\n    console.log(this.companyForm);\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + token\n      })\n    };\n    console.log('Company Name:', this.companyForm.value.companyName);\n    this.http.post(url, body, httpOptions).subscribe(() => {\n      console.log('Company added successfully');\n      // Handle success response here\n      this.getAllCompanies();\n    }, error => {\n      console.error(error);\n      // Handle error response here\n    });\n\n    Swal.fire({\n      icon: 'success',\n      title: 'Success',\n      text: 'Company added successfully!'\n    });\n  }\n  getAllCompanies() {\n    const url = 'http://localhost:8081/v1.0/market/company/getAll';\n    const token = sessionStorage.getItem('token');\n    console.log(\"Token -> \", token);\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + token\n      })\n    };\n    console.log(\"httpOptions -> \", httpOptions);\n    this.http.get(url, httpOptions).subscribe(movies => {\n      this.companies = movies.map(movie => ({\n        ...movie,\n        editMode: false\n      }));\n      const latestStockPrices = this.companies.map(company => company.latestStockPrice);\n      console.log('Latest Stock Prices:', latestStockPrices);\n    });\n  }\n  // updateCompany(company: Company) {\n  //   const url = `http://localhost:8081/v1.0/market/company/put/${company.companyCode}`;\n  //   const httpOptions = {\n  //     headers: new HttpHeaders({\n  //       'Content-Type': 'application/json',\n  //       'Authorization': 'Bearer ' + sessionStorage.getItem('token')\n  //     })\n  //   };\n  //   const body = {\n  //     companyName: company.companyName,\n  //     companyCEO: company.companyCEO,\n  //     companyTurnover: company.companyTurnover,\n  //     companyWebsite: company.companyWebsite,\n  //     stockExchange: company.stockExchange\n  //   };\n  //   this.http.put(url, body, httpOptions).subscribe(\n  //     () => {\n  //       console.log('Company updated successfully');\n  //       return this.getAllCompanies;\n  //       // Handle success response here\n  //     },\n  //     (error) => {\n  //       console.error(error);\n  //       // Handle error response here\n  //     }\n  //   );\n  // }\n  deleteCompany(companyCode) {\n    const url = `http://localhost:8081/v1.0/market/company/delete/${companyCode}`;\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + sessionStorage.getItem('token')\n      }),\n      responseType: 'text' // here\n    };\n\n    this.http.delete(url, httpOptions).subscribe(() => {\n      console.log(\"Reloading admin dashboard after delete!!\");\n      this.ngOnInit();\n    }, error => {\n      console.error(error);\n    });\n  }\n  static #_ = this.ɵfac = function CompanyComponent_Factory(t) {\n    return new (t || CompanyComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i5.MatDialog));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CompanyComponent,\n    selectors: [[\"app-company\"]],\n    decls: 76,\n    vars: 7,\n    consts: [[\"lang\", \"en\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1\"], [\"rel\", \"stylesheet\", \"href\", \"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\"], [1, \"container\"], [1, \"card\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"formControlName\", \"companyCode\", \"name\", \"companyCode\", \"type\", \"number\", \"placeholder\", \"Enter Company CODE\", \"required\", \"\", 1, \"form-control\"], [\"formControlName\", \"companyName\", \"name\", \"companyName\", \"type\", \"text\", \"placeholder\", \"Enter Company Name\", \"required\", \"\", 1, \"form-control\"], [\"formControlName\", \"companyCEO\", \"name\", \"companyCEO\", \"type\", \"text\", \"placeholder\", \"Enter companyCEO\", \"required\", \"\", 1, \"form-control\"], [\"formControlName\", \"companyTurnover\", \"name\", \"companyTurnover\", \"type\", \"number\", \"placeholder\", \"Enter companyTurnover\", \"required\", \"\", 1, \"form-control\"], [\"formControlName\", \"companyWebsite\", \"name\", \"companyWebsite\", \"type\", \"text\", \"placeholder\", \"Enter companyWebsite\", \"required\", \"\", 1, \"form-control\"], [\"formControlName\", \"stockExchange\", \"name\", \"stockExchange\", \"type\", \"text\", \"placeholder\", \"Enter stockExchange\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"], [1, \"btn\", \"btn-info\", \"loginbtn\", 3, \"click\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"input-group\", \"mb-3\"], [1, \"input-group-append\", \"align-items-center\"], [\"type\", \"text\", \"placeholder\", \"Search\", 1, \"form-control\", \"fa-search\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-warning\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n    template: function CompanyComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1)(3, \"link\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"body\")(5, \"div\", 3)(6, \"div\", 4)(7, \"h1\");\n        i0.ɵɵtext(8, \"Add Company Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"form\", 5);\n        i0.ɵɵlistener(\"ngSubmit\", function CompanyComponent_Template_form_ngSubmit_9_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelement(11, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 6);\n        i0.ɵɵelement(13, \"input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 6);\n        i0.ɵɵelement(15, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 6);\n        i0.ɵɵelement(17, \"input\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 6);\n        i0.ɵɵelement(19, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 6);\n        i0.ɵɵelement(21, \"input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"button\", 13);\n        i0.ɵɵtext(23, \"Add Details\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(24, \"div\", 4)(25, \"h1\");\n        i0.ɵɵtext(26, \"View All Companies\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function CompanyComponent_Template_button_click_27_listener() {\n          return ctx.getAllCompanies();\n        });\n        i0.ɵɵtext(28, \"Get All Company\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"table\", 15)(30, \"table\", 15)(31, \"thead\")(32, \"tr\")(33, \"th\");\n        i0.ɵɵtext(34, \"COMPANY CODE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"th\");\n        i0.ɵɵtext(36, \"COMPANY NAME\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"th\");\n        i0.ɵɵtext(38, \"CEO\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"th\");\n        i0.ɵɵtext(40, \"TURNOVER\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"th\");\n        i0.ɵɵtext(42, \"WEBSITE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"th\");\n        i0.ɵɵtext(44, \"STOCK EXCHANGE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"th\");\n        i0.ɵɵtext(46, \"STOCK PRICE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"th\");\n        i0.ɵɵtext(48, \"ACTION\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(49, \"tbody\");\n        i0.ɵɵtemplate(50, CompanyComponent_tr_50_Template, 20, 7, \"tr\", 16);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(51, \"div\", 4)(52, \"h1\");\n        i0.ɵɵtext(53, \"Search Company\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"div\", 17)(55, \"div\", 18)(56, \"input\", 19);\n        i0.ɵɵlistener(\"ngModelChange\", function CompanyComponent_Template_input_ngModelChange_56_listener($event) {\n          return ctx.searchText = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(57, \"table\", 15)(58, \"thead\")(59, \"tr\")(60, \"th\");\n        i0.ɵɵtext(61, \"COMPANY CODE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"th\");\n        i0.ɵɵtext(63, \"COMPANY NAME\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"th\");\n        i0.ɵɵtext(65, \"CEO\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"th\");\n        i0.ɵɵtext(67, \"COMPANY TURNOVER\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"th\");\n        i0.ɵɵtext(69, \"COMPANY WEBSITE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"th\");\n        i0.ɵɵtext(71, \"STOCK EXCHANGE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(72, \"th\");\n        i0.ɵɵtext(73, \"STOCK PRICE\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(74, CompanyComponent_tbody_74_Template, 16, 7, \"tbody\", 16);\n        i0.ɵɵpipe(75, \"filter\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"formGroup\", ctx.companyForm);\n        i0.ɵɵadvance(41);\n        i0.ɵɵproperty(\"ngForOf\", ctx.companies);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchText);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(75, 4, ctx.companies, ctx.searchText));\n      }\n    },\n    dependencies: [i6.NgForOf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.FormGroupDirective, i4.FormControlName, i7.FilterPipe],\n    styles: [\"body[_ngcontent-%COMP%] {\\n    margin: 0;\\n    padding: 0;\\n    \\n\\n\\n\\n\\n\\n    color: rgb(70, 17, 17);\\n    \\n\\n\\n\\n\\n\\n\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n    margin-top: 5%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    height: 100vh;\\n    flex-wrap: wrap;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n    border-radius: 15px;\\n    border-left: 5px solid #04AA6D;\\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\n    margin-bottom: 20px;\\n    background-color: rgb(85, 167, 170);\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    padding: 20px;\\n    width: 80%; \\n\\n}\\n\\n.card[_ngcontent-%COMP%]:hover {\\n    transform: scale(1.02);\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n    margin-top: 10px;\\n}\\n\\n.loginbtn[_ngcontent-%COMP%] {\\n    background-color: #04AA6D;\\n    color: white;\\n    border: none;\\n    cursor: pointer;\\n    opacity: 0.9;\\n    transition: opacity 0.3s ease-in-out;\\n    margin-top: 10px;\\n    padding: 10px 20px;\\n}\\n\\n.loginbtn[_ngcontent-%COMP%]:hover {\\n    opacity: 1;\\n}\\n.input-group-text[_ngcontent-%COMP%] {\\n    height: calc(1.5em + .75rem + 2px); \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcGFueS9jb21wYW55LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxTQUFTO0lBQ1QsVUFBVTtJQUNWOzs7O3VDQUltQztJQUNuQyxzQkFBc0I7SUFDdEI7Ozs7OzZCQUt5QjtBQUM3Qjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQiw4QkFBOEI7SUFDOUIsNEVBQTRFO0lBQzVFLG1CQUFtQjtJQUNuQixtQ0FBbUM7SUFDbkMsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLFVBQVUsRUFBRSxpQ0FBaUM7QUFDakQ7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLFlBQVk7SUFDWixlQUFlO0lBQ2YsWUFBWTtJQUNaLG9DQUFvQztJQUNwQyxnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksVUFBVTtBQUNkO0FBQ0E7SUFDSSxrQ0FBa0MsRUFBRSx1RUFBdUU7QUFDL0ciLCJzb3VyY2VzQ29udGVudCI6WyJib2R5IHtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICAvKiBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2h0dHBzOi8vbS5lY29ub21pY3RpbWVzLmNvbS90aHVtYi9tc2lkLTEwMzAyNzExOCx3aWR0aC0xMjAwLGhlaWdodC0xMjAwLHJlc2l6ZW1vZGUtNCxpbWdzaXplLTU2NTAwL3RlY2gtdmlldy1uaWZ0eS1tYXktYnJlYWstYmVsb3ctMTgzMDAtaW4tbmVhci10ZXJtLXdoYXQtdHJhZGVycy1zaG91bGQtZG8tb24tZnJpZGF5LmpwZycpO1xyXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbiAgICBmb250LWZhbWlseTogJ0FyaWFsJywgc2Fucy1zZXJpZjsgKi9cclxuICAgIGNvbG9yOiByZ2IoNzAsIDE3LCAxNyk7XHJcbiAgICAvKiBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2h0dHBzOi8vbS5lY29ub21pY3RpbWVzLmNvbS90aHVtYi9tc2lkLTEwMzAyNzExOCx3aWR0aC0xMjAwLGhlaWdodC0xMjAwLHJlc2l6ZW1vZGUtNCxpbWdzaXplLTU2NTAwL3RlY2gtdmlldy1uaWZ0eS1tYXktYnJlYWstYmVsb3ctMTgzMDAtaW4tbmVhci10ZXJtLXdoYXQtdHJhZGVycy1zaG91bGQtZG8tb24tZnJpZGF5LmpwZycpO1xyXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbiAgICBmb250LWZhbWlseTogJ0FyaWFsJywgc2Fucy1zZXJpZjtcclxuICAgIGNvbG9yOiByZ2IoNzAsIDE3LCAxNyk7ICovXHJcbn1cclxuXHJcbi5jb250YWluZXIge1xyXG4gICAgbWFyZ2luLXRvcDogNSU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxufVxyXG5cclxuLmNhcmQge1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIGJvcmRlci1sZWZ0OiA1cHggc29saWQgIzA0QUE2RDtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCAwIHJnYmEoMCwgMCwgMCwgMC4yKSwgMCA2cHggMjBweCAwIHJnYmEoMCwgMCwgMCwgMC4xOSk7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDg1LCAxNjcsIDE3MCk7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgd2lkdGg6IDgwJTsgLyogQWRqdXN0IHRoZSB3aWR0aCBvZiB0aGUgY2FyZCAqL1xyXG59XHJcblxyXG4uY2FyZDpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDIpO1xyXG59XHJcblxyXG5oMSB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcblxyXG4ubG9naW5idG4ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzA0QUE2RDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG9wYWNpdHk6IDAuOTtcclxuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyBlYXNlLWluLW91dDtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbn1cclxuXHJcbi5sb2dpbmJ0bjpob3ZlciB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG59XHJcbi5pbnB1dC1ncm91cC10ZXh0IHtcclxuICAgIGhlaWdodDogY2FsYygxLjVlbSArIC43NXJlbSArIDJweCk7IC8qIFRoaXMgaXMgdGhlIGRlZmF1bHQgaGVpZ2h0IG9mIHRoZSBCb290c3RyYXAgNCBmb3JtLWNvbnRyb2wgZWxlbWVudCAqL1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["HttpHeaders","Validators","Swal","UpdateFormComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","CompanyComponent_tr_50_Template_button_click_16_listener","restoredCtx","ɵɵrestoreView","_r4","c_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","updateCompany","CompanyComponent_tr_50_Template_button_click_18_listener","ctx_r5","deleteCompany","companyCode","ɵɵadvance","ɵɵtextInterpolate","companyName","companyCEO","companyTurnover","companyWebsite","stockExchange","latestStockPrice","r_r6","stockPrice","CompanyComponent","constructor","authService","http","router","formBuilder","dialog","companies","searchText","selectedCompany","isUpdateModalOpen","ngOnInit","companyForm","group","required","getAllCompanies","company","console","log","dialogRef","open","width","data","afterClosed","subscribe","result","updatedCompany","url","httpOptions","headers","sessionStorage","getItem","put","error","submitForm","invalid","token","body","value","post","fire","icon","title","text","get","movies","map","movie","editMode","latestStockPrices","responseType","delete","_","ɵɵdirectiveInject","i1","AuthService","i2","HttpClient","i3","Router","i4","FormBuilder","i5","MatDialog","_2","selectors","decls","vars","consts","template","CompanyComponent_Template","rf","ctx","ɵɵelement","CompanyComponent_Template_form_ngSubmit_9_listener","CompanyComponent_Template_button_click_27_listener","ɵɵtemplate","CompanyComponent_tr_50_Template","CompanyComponent_Template_input_ngModelChange_56_listener","$event","CompanyComponent_tbody_74_Template","ɵɵproperty","ɵɵpipeBind2"],"sources":["C:\\Users\\2107054\\Documents\\EstockUI\\src\\app\\company\\company.component.ts","C:\\Users\\2107054\\Documents\\EstockUI\\src\\app\\company\\company.component.html"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Company } from '../model/company';\nimport { AuthService } from '../service/auth.service';\nimport { EstockService } from '../service/EStock.service';\nimport Swal from 'sweetalert2';\nimport { MatDialog } from '@angular/material/dialog';\nimport { UpdateFormComponent } from '../update-form/update-form.component';\n@Component({\n  selector: 'app-company',\n  templateUrl: './company.component.html',\n  styleUrls: ['./company.component.css']\n})\nexport class CompanyComponent {\n  \n  companyForm!: FormGroup;\n  companies: Company[] = [];\n  searchText: string = '';\n   selectedCompany: Company | null = null;\n  isUpdateModalOpen = false;\n  constructor(private authService: AuthService, private http: HttpClient, private router: Router,private formBuilder: FormBuilder, private dialog: MatDialog) { }\n \n  ngOnInit() {\n    this.companyForm = this.formBuilder.group({\n      companyCode: ['', Validators.required],\n      companyName: ['', Validators.required],\n      companyCEO: ['', Validators.required],\n      companyTurnover: ['', Validators.required],\n      companyWebsite: ['', Validators.required],\n      stockExchange: ['', Validators.required],\n      //stockPrice: ['', Validators.required],\n      //latestStockPrice: ['', Validators.required],\n      \n    });\n    this.getAllCompanies();\n    //this.getMov();\n   \n   \n  }\n  updateCompany(company: Company) {\n    console.log(\"insde\");\n    const dialogRef = this.dialog.open(UpdateFormComponent, {\n      width: '400px',\n      data: company\n    });\n  \n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        const updatedCompany: Company = {\n          companyCode: company.companyCode, // Make sure to include the companyCode in the updated data\n          ...result // Spread the updated data\n        };\n  \n        const url = `http://localhost:8081/v1.0/market/company/put/${updatedCompany.companyCode}`;\n        const httpOptions = {\n          headers: new HttpHeaders({\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + sessionStorage.getItem('token')\n          })\n        };\n  \n        this.http.put(url, updatedCompany, httpOptions).subscribe(\n          () => {\n            console.log('Company updated successfully');\n            this.getAllCompanies(); // Refresh the company list\n          },\n          (error) => {\n            console.error(error);\n            // Handle error response here\n          }\n        );\n      }\n    });\n  }\n  submitForm() {\n    if (this.companyForm.invalid) {\n      return;\n    \n    }\n    console.log(\"inside\")\n    const url = 'http://localhost:8081/v1.0/market/company/register';\n    const token = sessionStorage.getItem('token');\n    const body = {\n      companyCode: this.companyForm.value.companyCode,\n      companyName: this.companyForm.value.companyName,\n      companyCEO: this.companyForm.value.companyCEO,\n      companyTurnover: this.companyForm.value.companyTurnover,\n      companyWebsite: this.companyForm.value.companyWebsite,\n      stockExchange: this.companyForm.value.stockExchange,\n      //stockPrice: this.companyForm.value.stockPrice,\n     // latestStockPrice: this.companyForm.value.latestStockPrice,\n      \n    };\n    console.log(this.companyForm) \n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + token\n      })\n    };\n \n    console.log('Company Name:', this.companyForm.value.companyName);\n    \n    this.http.post(url, body, httpOptions).subscribe(\n      () => {\n        console.log('Company added successfully');\n        // Handle success response here\n        this.getAllCompanies();\n        \n      },\n      (error) => {\n        console.error(error);\n        // Handle error response here\n      }\n    );\n    Swal.fire({\n      icon: 'success',\n      title: 'Success',\n      text: 'Company added successfully!',\n    });\n   \n  }\ngetAllCompanies() {\n  const url = 'http://localhost:8081/v1.0/market/company/getAll';\n  const token = sessionStorage.getItem('token');\n\n  console.log(\"Token -> \", token);\n \n  const httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type':  'application/json',\n      'Authorization': 'Bearer ' + token\n    })\n  };\n  console.log(\"httpOptions -> \", httpOptions);\n  this.http.get<Company[]>(url, httpOptions).subscribe(movies => {\n    this.companies = movies.map(movie => ({\n      ...movie,\n      editMode: false\n    }));\n    const latestStockPrices = this.companies.map(company => company.latestStockPrice);\n        console.log('Latest Stock Prices:', latestStockPrices);\n  });\n}\n// updateCompany(company: Company) {\n//   const url = `http://localhost:8081/v1.0/market/company/put/${company.companyCode}`;\n//   const httpOptions = {\n//     headers: new HttpHeaders({\n//       'Content-Type': 'application/json',\n//       'Authorization': 'Bearer ' + sessionStorage.getItem('token')\n//     })\n//   };\n//   const body = {\n//     companyName: company.companyName,\n//     companyCEO: company.companyCEO,\n//     companyTurnover: company.companyTurnover,\n//     companyWebsite: company.companyWebsite,\n//     stockExchange: company.stockExchange\n//   };\n  \n \n//   this.http.put(url, body, httpOptions).subscribe(\n//     () => {\n//       console.log('Company updated successfully');\n//       return this.getAllCompanies;\n//       // Handle success response here\n//     },\n//     (error) => {\n//       console.error(error);\n//       // Handle error response here\n//     }\n//   );\n \n// }\n\n\ndeleteCompany(companyCode: number): void {\n  const url = `http://localhost:8081/v1.0/market/company/delete/${companyCode}`;\n  const httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + sessionStorage.getItem('token')\n    }),\n    responseType: 'text' as 'json' // here\n  };\n  this.http.delete(url, httpOptions).subscribe(\n    () => {\n      console.log(\"Reloading admin dashboard after delete!!\");\n      this.ngOnInit();\n    },\n    (error) => {\n      console.error(error);\n    }\n  );\n}\n}\n","<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css\">\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"\n            integrity=\"sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL\" crossorigin=\"anonymous\"></script>\n\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js\"></script>\n    \n    <style>\n        \n    </style>\n</head>\n<body>\n\n<div class=\"container\">\n    <div class=\"card\">\n        <h1>Add Company Details</h1>\n                \n                <form [formGroup]=\"companyForm\" (ngSubmit)=\"submitForm()\">\n                    <div class=\"form-group\">\n                        <input formControlName=\"companyCode\" name=\"companyCode\" class=\"form-control\" type=\"number\" placeholder=\"Enter Company CODE\" required>\n                    </div>\n                    <div class=\"form-group\">\n                        <input formControlName=\"companyName\" name=\"companyName\" class=\"form-control\" type=\"text\" placeholder=\"Enter Company Name\" required>\n                    </div>\n                    <div class=\"form-group\">\n                        <input formControlName=\"companyCEO\" name=\"companyCEO\" class=\"form-control\" type=\"text\" placeholder=\"Enter companyCEO\" required>\n                    </div>\n                    <div class=\"form-group\">\n                        <input formControlName=\"companyTurnover\" name=\"companyTurnover\" class=\"form-control\" type=\"number\" placeholder=\"Enter companyTurnover\" required>\n                    </div>\n                    <div class=\"form-group\">\n                        <input formControlName=\"companyWebsite\" name=\"companyWebsite\" class=\"form-control\" type=\"text\" placeholder=\"Enter companyWebsite\" required>\n                    </div>\n                    <div class=\"form-group\">\n                        <input formControlName=\"stockExchange\" name=\"stockExchange\" class=\"form-control\" type=\"text\" placeholder=\"Enter stockExchange\" required>\n                    </div>\n                    <!-- <div class=\"form-group\">\n                        <input name=\"stockPrice\" class=\"form-control\" type=\"text\" placeholder=\"Enter stockPrice\" required>\n                    </div> -->\n                    <button class=\"btn btn-success\" type=\"submit\" >Add Details</button>\n                </form><!-- Add other form fields as needed -->\n       \n    </div>\n\n    <div class=\"card\">\n        <h1>View All Companies</h1>\n        <button class=\"btn btn-info loginbtn\" (click)=\"getAllCompanies()\">Get All Company</button>\n        <table class=\"table table-striped\">\n            <table class=\"table table-striped\">\n                <thead>\n                <tr>\n                    <th>COMPANY CODE</th>\n                    <th>COMPANY NAME</th>\n                    <th>CEO</th>\n                    <th>TURNOVER</th>\n                    <th>WEBSITE</th>\n                    <th>STOCK EXCHANGE</th>\n                    <th>STOCK PRICE</th>\n                    <th>ACTION</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr *ngFor=\"let c of companies\">\n                    <td>{{c.companyCode}}</td>\n                    <td>{{ c.companyName }}</td>\n                    <td>{{ c.companyCEO }}</td>\n                    <td>{{ c.companyTurnover}}</td>\n                    <td>{{ c.companyWebsite }}</td>\n                    <td>{{ c.stockExchange }}</td>\n                    <td>{{ c.latestStockPrice }}</td>\n            \n                    <td>\n                        <button class=\"btn btn-warning\" (click)=\"updateCompany(c)\">Update</button>\n                        <button class=\"btn btn-danger\" (click)=\"deleteCompany(c.companyCode)\">Delete</button>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </table>\n    </div>\n    \n\n    <div class=\"card\">\n        <h1>Search Company</h1>\n            <div class=\"input-group mb-3\">\n                \n                <div class=\"input-group-append align-items-center\">\n                    <input type=\"text\" [(ngModel)]=\"searchText\"  class=\"form-control fa-search\" placeholder=\"Search\" >\n                    <!-- <span class=\"input-group-text\"><i class=\"fa fa-search\"></i></span> -->\n                </div>\n            </div>\n             \n                <table  class=\"table table-striped\">\n                    <thead>\n                    <tr>\n                        <th>COMPANY CODE</th>\n                        <th>COMPANY NAME</th>\n                        <th>CEO</th>\n                        <th>COMPANY TURNOVER</th>\n                        <th>COMPANY WEBSITE</th>\n                        <th>STOCK EXCHANGE</th>\n                        <th>STOCK PRICE</th>\n                    </tr>\n                    </thead>\n                    <tbody  *ngFor=\"let r of companies | filter:searchText\">\n                    <tr >\n                        <td>{{ r.companyCode }}</td>\n                        <td>{{ r.companyName }}</td>\n                        <td>{{ r.companyCEO }}</td>\n                        <td>{{ r.companyTurnover}}</td>\n                        <td>{{ r.companyWebsite }}</td>\n                        <td>{{ r.stockExchange }}</td>\n                        <td>{{ r.stockPrice }}</td>\n                    </tr>\n                    </tbody>\n                </table>\n    </div>\n</div>\n\n</body>\n</html>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}